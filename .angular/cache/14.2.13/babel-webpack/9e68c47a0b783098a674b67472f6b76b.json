{"ast":null,"code":"import { AffectationDto } from 'src/app/classes/affectation-dto';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/affectation.service\";\nimport * as i2 from \"src/app/services/produit.service\";\nimport * as i3 from \"src/app/services/personel.service\";\nimport * as i4 from \"./../../../../../services/bureau.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\n\nfunction CreateVenteComponent_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1, \"Aucunproduit disponible\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CreateVenteComponent_option_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const produit_r12 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", produit_r12.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\"id:\", produit_r12.id, \"=>\", produit_r12.nom, \"\");\n  }\n}\n\nfunction CreateVenteComponent_option_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1, \"Aucun personel disponible\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CreateVenteComponent_option_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const personel_r13 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", personel_r13.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", personel_r13.prenom, \" \", personel_r13.nom, \" \");\n  }\n}\n\nfunction CreateVenteComponent_option_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1, \"Aucun bureau disponible\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CreateVenteComponent_option_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const bureau_r14 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", bureau_r14.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", bureau_r14.id, \":=> \", bureau_r14.nom, \" \");\n  }\n}\n\nfunction CreateVenteComponent_span_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" Entrez le motif \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CreateVenteComponent_span_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" Minimum 4 caract\\u00E8res \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CreateVenteComponent_span_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" Maximum 30 caract\\u00E8res \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CreateVenteComponent_span_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \" Entrez la date \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return [\"../list-vente\"];\n};\n\nconst _c1 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\n\nexport let CreateVenteComponent = /*#__PURE__*/(() => {\n  class CreateVenteComponent {\n    constructor(affectationService, produitService, personelService, bureauService, router) {\n      this.affectationService = affectationService;\n      this.produitService = produitService;\n      this.personelService = personelService;\n      this.bureauService = bureauService;\n      this.router = router; // @Component({\n      //   selector: 'app-create-affectation',\n      //   templateUrl: './create-affectation.component.html',\n      //   styleUrls: ['./create-affectation.component.css']\n      // })\n      // export class CreateAffectationComponent implements OnInit {\n\n      this.produits = [];\n      this.bureaus = [];\n      this.personels = [];\n      this.affectationDto = new AffectationDto();\n    }\n\n    ngOnInit() {\n      this.getProduits();\n      this.getPersonels();\n      this.getBureaus();\n    }\n\n    saveaffectation() {\n      this.affectationService.addAffectation(this.affectationDto).subscribe(data => {\n        console.log(data);\n        this.goToaffectationList();\n      }, error => console.log(error));\n    }\n\n    goToaffectationList() {\n      this.router.navigate(['admin/list-affectation']);\n    }\n\n    onSubmit() {\n      console.log(this.affectationDto);\n      this.saveaffectation(); //  this.produitService.deleteProduit(this.affectationDto.produitDto.id);\n\n      this.getDeleteProduit();\n    }\n\n    getProduits() {\n      this.produitService.getProduits().subscribe(data => {\n        this.produits = data;\n        console.log(\"Toutes les produits : \", this.produits);\n      });\n    }\n\n    getDeleteProduit() {\n      this.produitService.deleteProduit(this.affectationDto.produitDto.id).subscribe(data => {});\n    }\n\n    getPersonels() {\n      this.personelService.getPersonels().subscribe(data => {\n        this.personels = data;\n        console.log(\"Toutes les personels : \", this.personels);\n      });\n    }\n\n    getBureaus() {\n      this.bureauService.getBureaus().subscribe(data => {\n        this.bureaus = data;\n        console.log(\"Toutes les bureaus : \", this.bureaus);\n      });\n    }\n\n  }\n\n  CreateVenteComponent.ɵfac = function CreateVenteComponent_Factory(t) {\n    return new (t || CreateVenteComponent)(i0.ɵɵdirectiveInject(i1.AffectationService), i0.ɵɵdirectiveInject(i2.ProduitService), i0.ɵɵdirectiveInject(i3.PersonelService), i0.ɵɵdirectiveInject(i4.BureauService), i0.ɵɵdirectiveInject(i5.Router));\n  };\n\n  CreateVenteComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CreateVenteComponent,\n    selectors: [[\"app-create-vente\"]],\n    decls: 45,\n    vars: 23,\n    consts: [[1, \"card\", \"col-md-4\", \"offset-4\"], [1, \"card-header\", \"text-white\", \"bg-info\", \"d-flex\", \"justify-content-between\"], [1, \"btn\", \"btn-danger\", 3, \"routerLink\"], [1, \"fa\", \"fa-arrow-left\"], [1, \"card-body\"], [3, \"ngSubmit\"], [1, \"mb-3\"], [1, \"form-label\"], [\"name\", \"produits\", \"id\", \"produits\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngIf\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"placeholder\", \"nom\", \"name\", \"personels\", \"id\", \"personels\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"nom\", \"name\", \"bureaus\", \"id\", \"bureaus\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"placeholder\", \"motif du affectation\", \"name\", \"motif\", \"required\", \"\", \"minlength\", \"4\", \"maxlength\", \"30\", 1, \"form-control\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"motifVar\", \"ngModel\"], [1, \"invalid-feedback\"], [\"type\", \"date\", \"placeholder\", \"JJ/MM/AAAA\", \"name\", \"date\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\"], [\"createdAtVar\", \"ngModel\"], [1, \"d-flex\", \"justify-content-end\", \"mt-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-info\"], [3, \"value\"]],\n    template: function CreateVenteComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h4\");\n        i0.ɵɵtext(3, \"Ajouter une vente \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"button\", 2);\n        i0.ɵɵelement(5, \"i\", 3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(6, \"div\", 4)(7, \"form\", 5);\n        i0.ɵɵlistener(\"ngSubmit\", function CreateVenteComponent_Template_form_ngSubmit_7_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(8, \"div\", 6)(9, \"label\", 7);\n        i0.ɵɵtext(10, \"Id du materiel\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"select\", 8);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateVenteComponent_Template_select_ngModelChange_11_listener($event) {\n          return ctx.affectationDto.produitDto.id = $event;\n        });\n        i0.ɵɵtemplate(12, CreateVenteComponent_option_12_Template, 2, 0, \"option\", 9);\n        i0.ɵɵtemplate(13, CreateVenteComponent_option_13_Template, 2, 3, \"option\", 10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"div\", 6)(15, \"label\", 7);\n        i0.ɵɵtext(16, \"Nom du personel\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"select\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateVenteComponent_Template_select_ngModelChange_17_listener($event) {\n          return ctx.affectationDto.personelDto.id = $event;\n        });\n        i0.ɵɵtemplate(18, CreateVenteComponent_option_18_Template, 2, 0, \"option\", 9);\n        i0.ɵɵtemplate(19, CreateVenteComponent_option_19_Template, 2, 3, \"option\", 10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 6)(21, \"label\", 7);\n        i0.ɵɵtext(22, \"Bureau\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"select\", 12);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateVenteComponent_Template_select_ngModelChange_23_listener($event) {\n          return ctx.affectationDto.bureauDto.id = $event;\n        });\n        i0.ɵɵtemplate(24, CreateVenteComponent_option_24_Template, 2, 0, \"option\", 9);\n        i0.ɵɵtemplate(25, CreateVenteComponent_option_25_Template, 2, 3, \"option\", 10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(26, \"div\", 6)(27, \"label\");\n        i0.ɵɵtext(28, \"Motif\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"input\", 13, 14);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateVenteComponent_Template_input_ngModelChange_29_listener($event) {\n          return ctx.affectationDto.motif = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(31, \"div\", 15);\n        i0.ɵɵtemplate(32, CreateVenteComponent_span_32_Template, 2, 0, \"span\", 9);\n        i0.ɵɵtemplate(33, CreateVenteComponent_span_33_Template, 2, 0, \"span\", 9);\n        i0.ɵɵtemplate(34, CreateVenteComponent_span_34_Template, 2, 0, \"span\", 9);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(35, \"div\", 6)(36, \"label\");\n        i0.ɵɵtext(37, \"Date \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"input\", 16, 17);\n        i0.ɵɵlistener(\"ngModelChange\", function CreateVenteComponent_Template_input_ngModelChange_38_listener($event) {\n          return ctx.affectationDto.date = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"div\", 15);\n        i0.ɵɵtemplate(41, CreateVenteComponent_span_41_Template, 2, 0, \"span\", 9);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(42, \"div\", 18)(43, \"button\", 19);\n        i0.ɵɵtext(44, \"Sauvegarder\");\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        const _r6 = i0.ɵɵreference(30);\n\n        const _r10 = i0.ɵɵreference(39);\n\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(18, _c0));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.affectationDto.produitDto.id);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.produits == null ? null : ctx.produits.length));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.produits);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.affectationDto.personelDto.id);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.personels == null ? null : ctx.personels.length));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.personels);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.affectationDto.bureauDto.id);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.bureaus == null ? null : ctx.bureaus.length));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.bureaus);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.affectationDto.motif)(\"ngClass\", i0.ɵɵpureFunction1(19, _c1, _r6.touched && !_r6.valid));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", _r6.errors == null ? null : _r6.errors[\"required\"]);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", _r6.errors == null ? null : _r6.errors[\"minlength\"]);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", _r6.errors == null ? null : _r6.errors[\"maxlength\"]);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.affectationDto.date)(\"ngClass\", i0.ɵɵpureFunction1(21, _c1, _r10.touched && !_r10.valid));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", _r10.errors == null ? null : _r10.errors[\"required\"]);\n      }\n    },\n    dependencies: [i6.NgClass, i6.NgForOf, i6.NgIf, i5.RouterLink, i7.ɵNgNoValidate, i7.NgSelectOption, i7.ɵNgSelectMultipleOption, i7.DefaultValueAccessor, i7.SelectControlValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.RequiredValidator, i7.MinLengthValidator, i7.MaxLengthValidator, i7.NgModel, i7.NgForm]\n  });\n  return CreateVenteComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}